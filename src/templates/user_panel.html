{% extends 'base_panel.html' %}

{% block styles %}
<style>
.card-img-right {
    height: 100%;
    border-radius: 0 3px 3px 0;
  }

.col {
    position: relative;
    transform: translateX(0%);
}
</style>
{% endblock %}

{% block content %}
<!-- Main Content -->


{% if has_bookings %}
    <main class="col">
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
            <h1 class="display-5 fw-normal" style="transform: translateX(26%);">Ваши Бронирования</h1>
        </div>

        <div class="row">
            {% for booking in user_bookings %}
            <div class="card flex-md-row mb-4 box-shadow h-md-250">
                <div class="card-body d-flex flex-column align-items-start">
                    <strong class="d-inline-block mb-2 text-primary">Дом с ID {{ booking['house_id'] }}</strong>
                    <h3 class="mb-0">
                        <p class="lead mb-3">Бронирование №{{ booking['id'] }}</p>
                    </h3>
                    <div class="mb text-muted"> {{ booking['start_date'] }}</div>
                    <div class="mb-1 text-muted"> {{ booking['end_date'] }}</div>
                    <div class="mt-1 mb-2 text-muted small">
                        <span>Одноэтажный</span>
                        <span class="text-primary"> • </span>
                        <span>На двоих</span>
                        <span class="text-primary"> • </span>
                        <span>Одна спальня<br /></span>
                      </div>
                    <a href="/edit_booking/{{ booking['id'] }}/{{ booking['house_id'] }}/{{ booking['start_date'] }}/{{ booking['end_date'] }}" class="btn btn-outline-secondary edit-booking-btn">Редактировать</a>
                </div>
            <img class="card-img-right flex-auto d-none d-md-block" src="https://modul-2.ru/assets/cache_image/projects/dom-17/render_01_760x507_ace.jpg.webp" alt="Card image cap" width="300">
            </div>

            {% endfor %}
        </div>
    </main>
{% else %}
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h2 class="pb-2 display-6 text-center">Добро пожаловать в Личный Кабинет</h2>
    </div>

    <!-- Content goes here -->
    <div class="d-flex align-items-start">
        <p>Нет активных бронирований</p>
    </div>
{% endif %}
{% endblock %}
