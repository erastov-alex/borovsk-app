{% extends 'base.html' %}

{% block styles %}
<link href="{{ url_for('static', filename='css/index.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}

{% if show_toast %}
<div class="toast show" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
        <img src="{{ url_for('static', filename='img/logo.png') }}" class="rounded me-2" alt="... " height="24">
        <strong class="me-auto">Дополните информацию</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
        <form>
            <div class="mb-3">
                <label for="phone" class="form-label">Укажите свой номер:</label>
                <input type="text" class="form-control" id="phone" name="phone">
            </div>
            <button type="submit" class="btn btn-success">Отправить</button>
        </form>
    </div>
</div>
{% endif %}

<!-- featured -->
<div class="video-bg">
  <video playsinline loop autoplay="autoplay" muted preload="auto" id="video-bg">
    <source src="static/video/video_main.mp4" type="video/mp4" />
  </video>
  <div class="effects"></div>
  <div class="video-bg__content">
      <h1 class="display-5 fw-normal">Загородный комплекс Borovsky</h1>
      <p class="lead mb-4">Проведи выходные на природе</p>
      <a href="/house_selection" class="btn btn-success-custom btn-lg">Забронировать</a>
  </div>
  </div>
</div>

<div class="bg-image">
  <div class="position-relative overflow-hidden p-3 p-md-5 text-center bg-light" style="background-image: url('https://s12.gifyu.com/images/SaSoN.gif'); background-size: cover; background-position: center;">
      <div class="col-md-5 p-lg-5 mx-auto my-5">
          <h1 class="display-5 fw-normal text-shadow">Загородный комплекс Borovsky</h1>
          <p class="lead mb-4 text-shadow">Проведи выходные на природе</p>
          <a href="/house_selection" class="btn btn-success-custom btn-lg">Забронировать</a>
      </div>
      <div class="product-device shadow-sm d-none d-md-block"></div>
      <div class="product-device product-device-2 shadow-sm d-none d-md-block"></div>
  </div>
</div>


<!-- Main -->
<div class="px-4 py-5 my-5 text-center mt-4">
    <img class="logo-animated d-block mx-auto mb-4" src="static/img/logo2.png" alt="" width="204" height="116">
    <h1 class="display-5 fw-bold">Уютные домики в Боровске</h1>
    <div class="col-lg-6 mx-auto">
      <p class="lead mb-4">Современные коттеджи 101м² с панорамным остеклением и приватной территорией рядом с историческим городом России</p>
      <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
        <button type="button" class="btn btn btn-success-custom btn-lg px-4 me-sm-3">Заказать звонок</button>
        <button type="button" class="btn btn-outline-secondary btn-lg px-4">Подарочный сертификат</button>
      </div>
    </div>
</div>

<!-- Cards in grid -->
<section id="cards" class="container mt-4 mb-4">
    <div class="card-group">
        <!-- Card 1 -->
        <div class="col-md-4">
            <div class="card h-100">
                <img src="https://modul-2.ru/assets/cache_image/projects/dom-17/render_01_760x507_ace.jpg.webp" class="card-img-top rounded-circle mx-auto mt-3"
                     alt="Card image 1" style="width: 150px; height: 150px; object-fit: cover;">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">Дом "Уютный"</h5>
                    <p class="card-text">
                        <strong>Тип:</strong> Одноэтажный<br>
                        <strong>Вместимость:</strong> Для 2 персон<br>
                        <strong>Кровати:</strong> 1<br>
                        <strong>Комнаты:</strong> 2<br>
                        <strong>Удобства:</strong> Все удобства<br>
                        <strong>Особенности:</strong> Прекрасно подходит для романтического отдыха вдвоем. Уютная атмосфера и комфорт обеспечат незабываемый отдых.
                    </p>
                    <div class="mt-auto text-center"> <!-- Добавлен класс text-center для центрирования кнопки -->
                        <button data-mdb-button-init data-mdb-ripple-init class="btn btn-outline-success select-house-btn" type="button" data-house-id="1">Выбрать</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card 2 -->
        <div class="col-md-4">
            <div class="card h-100">
                <img src="https://img-fotki.yandex.ru/get/26292/127908635.e73/0_186f9c_59a2d690_orig.jpg" class="card-img-top rounded-circle mx-auto mt-3"
                    alt="достопримечательности" style="width: 150px; height: 150px; object-fit: cover;">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">Дом "Семейный"</h5>
                    <p class="card-text">
                        <strong>Тип:</strong> Двухэтажный<br>
                        <strong>Вместимость:</strong> Для семьи из 4 человек<br>
                        <strong>Кровати:</strong> 3<br>
                        <strong>Комнаты:</strong> 3<br>
                        <strong>Удобства:</strong> Полный набор удобств для комфортного проживания семьи.<br>
                        <strong>Особенности:</strong> Просторное размещение для всей семьи. Каждый член семьи найдет здесь свое место для отдыха и развлечений.
                    </p>
                    <div class="mt-auto text-center"> <!-- Добавлен класс text-center для центрирования кнопки -->
                      <button data-mdb-button-init data-mdb-ripple-init class="btn btn-outline-success select-house-btn" type="button" data-house-id="2">Выбрать</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card 3 -->
        <div class="col-md-4">
            <div class="card h-100">
                <img src="https://img-fotki.yandex.ru/get/39232/127908635.e73/0_186f9e_dea14748_orig.jpg" class="card-img-top rounded-circle mx-auto mt-3"
                    alt="Card image 3" style="width: 150px; height: 150px; object-fit: cover;">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">Дом "Большой"</h5>
                    <p class="card-text">
                        <strong>Тип:</strong> Двухэтажный<br>
                        <strong>Вместимость:</strong> Для большой компании<br>
                        <strong>Спальни:</strong> 4<br>
                        <strong>Удобства:</strong> Полностью оборудованная кухня, просторная гостиная, барбекю зона.<br>
                        <strong>Особенности:</strong> Идеальный выбор для отдыха в большой компании или семьей. Просторные спальни и общие зоны позволят всем гостям чувствовать себя комфортно и уютно.
                    </p>
                    <div class="mt-auto text-center"> <!-- Добавлен класс text-center для центрирования кнопки -->
                      <button data-mdb-button-init data-mdb-ripple-init class="btn btn-outline-success select-house-btn" type="button" data-house-id="3">Выбрать</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>

<!-- Carousel With Indicators -->
<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
	<!-- Carousel items -->
	<div class="carousel-inner">
		<div class="carousel-item active">
			<img src="static/img/carusel2.png" class="d-block w-100" alt="First slide">
			<div class="carousel-caption d-block">
				<h5>Уютные домики в Боровске</h5>
				<p>Проведи выходные на природе</p>
				<a href="/house_selection" class="btn btn btn btn-outline-light">Забронировать</a>
			</div>
		</div>
		<div class="carousel-item">
			<img src="static/img/carusel3.png" class="d-block w-100" alt="Second slide">
			<div class="carousel-caption d-block">
				<h5>Только Эко материалы</h5>
				<p>Чистый воздух, баня и мангал</p>
				<button class="btn btn btn-outline-light">Подробнее</button>
			</div>
		</div>
		<div class="carousel-item">
			<img src="static/img/carusel4.png" class="d-block w-100" alt="Third slide">
			<div class="carousel-caption d-block">
				<h5>Исторические места</h5>
				<p>Памятники культуры и природы в шаговой доступности</p>
				<button class="btn btn btn-outline-light">Список</button>
			</div>
		</div>
	</div>

	<!-- Controls -->
	<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
	        data-bs-slide="prev">
		<span class="carousel-control-prev-icon" aria-hidden="true"></span>
		<span class="visually-hidden">Назад</span>
	</button>
	<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
	        data-bs-slide="next">
		<span class="carousel-control-next-icon" aria-hidden="true"></span>
		<span class="visually-hidden">Далее</span>
	</button>
</div>

<h2 class="reveal-text pb-2 display-6 text-center px-4 py-5" id="animated-header">Достопримечательности - в шаговой доступности</h2>

<div class="container" id="custom-cards">
    <div class="row row-cols-1 row-cols-lg-3 align-items-stretch g-4 py-5">
      <div class="col">
        <div class="card card-cover h-100 overflow-hidden text-white bg-dark rounded-5 shadow-lg" style="background-image: url('https://media.pravoslavie.ru/314850.b.jpg?mtime=1554118721');">
          <div class="d-flex flex-column h-100 p-5 pb-3 text-white text-shadow-1">
            <h2 class="pt-5 mt-5 mb-4 display-6 lh-1 fw-bold text-shadow">Свято-Пафнутьев Боровский монастырь</h2>
            <ul class="d-flex list-unstyled mt-auto">
              <li class="me-auto">
                <img src="static/img/logo2_with_wb.png" alt="logo" width="32" height="32" class="rounded-circle border border-white">
              </li>
              <li class="d-flex align-items-center">
                <svg class="bi me-2" width="1em" height="1em"><use xlink:href="#calendar3"/></svg>
                <button class="btn btn btn-outline-light">Подробнее</button>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card card-cover h-100 overflow-hidden text-white bg-dark rounded-5 shadow-lg" style="background-image: url('https://img-fotki.yandex.ru/get/373240/121998322.ec/0_a47dc_f2919d23_orig.jpg');">
          <div class="d-flex flex-column h-100 p-5 pb-3 text-white text-shadow-1">
            <h2 class="pt-5 mt-5 mb-4 display-6 lh-1 fw-bold text-shadow">Фрески Боровска</h2>
            <ul class="d-flex list-unstyled mt-auto">
              <li class="me-auto">
                <img src="static/img/logo2_with_wb.png" alt="logo" width="32" height="32" class="rounded-circle border border-white">
              </li>
              <li class="d-flex align-items-center">
                <svg class="bi me-2" width="1em" height="1em"><use xlink:href="#calendar3"/></svg>
                <button class="btn btn btn-outline-light btn-text-shadow">Подробнее</button>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card card-cover h-100 overflow-hidden text-white bg-dark rounded-5 shadow-lg" style="background-image: url('https://i.pinimg.com/736x/1d/e8/dd/1de8dd51e4559aec8602de70997d3add--moscow-russia.jpg');">
          <div class="d-flex flex-column h-100 p-5 pb-3 text-shadow-1">
            <h2 class="pt-5 mt-5 mb-4 display-6 lh-1 fw-bold text-shadow">Храм Покрова Пресвятой Богородицы</h2>
            <ul class="d-flex list-unstyled mt-auto">
              <li class="me-auto">
                <img src="static/img/logo2_with_wb.png" alt="logo" width="32" height="32" class="rounded-circle border border-white">
              </li>
              <li class="d-flex align-items-center">
                <svg class="bi me-2" width="1em" height="1em"><use xlink:href="#calendar3"/></svg>
                <button class="btn btn btn-outline-light btn-text-shadow">Подробнее</button>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

<script type="text/javascript">
	ymaps.ready(init);
	function init(){
		var myMap = new ymaps.Map("map", {
			center: [55.76, 37.64],
			zoom: 7
		});
	}
</script>
<script type="text/javascript" charset="utf-8" async src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3Afeaf069919655a5f41cc02c09986ab1770ef8976a395a96b0af2962149937464&amp;width=100%25&amp;height=400&amp;lang=ru_RU&amp;scroll=true"></script>

<!-- Пользовательский джамботрон -->
<div class="p-5 mb-4 bg-light rounded-3">
	<div class="container-fluid py-5">
	  <h1 class="display-5 fw-bold">Остались вопросы?</h1>
	  <p class="col-md-8 fs-4">Воспользуйтесь формой заказа обратного звонка и мы свяжемся и уточним все детали</p>
	  <button class="btn btn-success-custom btn-lg" type="button">Заказать звонок</button>
	</div>
</div>

{% endblock %}
{% block scripts %}
<script>
	document.addEventListener("DOMContentLoaded", function() {
		var toastElList = [].slice.call(document.querySelectorAll('.toast'));
		var toastList = toastElList.map(function (toastEl) {
			return new bootstrap.Toast(toastEl);
		});
		toastList[0].show();
	});	
  document.addEventListener('DOMContentLoaded', function () {
    const selectHouseButtons = document.querySelectorAll('.select-house-btn');

    selectHouseButtons.forEach(button => {
        button.addEventListener('click', function () {
            const houseId = button.getAttribute('data-house-id');
            window.location.href = "/house_details/" + houseId;
        });
    });
  });


  const cards = document.querySelectorAll('.card');
  let animatedCards = [];

  function animateCards() {
    cards.forEach((card, index) => {
      const cardTop = card.offsetTop;
      const scrollPosition = window.scrollY + window.innerHeight;
      if (scrollPosition > cardTop && !animatedCards.includes(index)) {
        card.classList.add('animate');
        animatedCards.push(index);
        setTimeout(() => {
          animateCards(); // call again after 1 second to animate the next card
        }, 1000);
      }
    });
  }

  window.addEventListener('scroll', animateCards);
  animateCards(); // initial animation on page load


</script>
{% endblock %}

