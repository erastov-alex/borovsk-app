{% extends 'base_panel.html' %}

{% block content %}

<div class="py-5 text-center">
    <h2 class="pb-2 display-6">Информация об аккаунте</h2>
</div>
<div class="container">
    <div class="order-md-1">
        <form class="needs-validation" method="post" action="{{ url_for('users.user_info') }}" novalidate>
            {{ form.csrf_token }}
        <div class="row">
            <div class="col-md-6 mb-3">
            <label for="first_name">Имя</label>
            <input type="text" class="form-control" id="first_name" name = "first_name" value="{{ current_user.first_name if current_user.first_name != None else '' }}">
            <div class="invalid-feedback">
                Valid first name is required.
            </div>
            </div>
            <div class="col-md-6 mb-3">
            <label for="second_name">Фамилия</label>
            <input type="text" class="form-control" id="second_name" name="second_name" value="{{ current_user.second_name if current_user.first_name != None else '' }}">
            <div class="invalid-feedback">
                Valid last name is required.
            </div>
            </div>
        </div>

        <div class="mb-3">
            <label for="name">Обращение <span class="text-muted">(Опционально)</span></label>
            <input type="text" class="form-control" id="name" name="name" value="{{ current_user.name }}">
            <div class="invalid-feedback">
            Please enter a valid email address for shipping updates.
            </div>
        </div>

        <div class="mb-3">
            <label for="username">Username</label>
            <div class="input-group">
            <div class="input-group-prepend">
                <span class="input-group-text">@</span>
            </div>
            <input type="text" class="form-control" id="username" name="username"  value="{{ current_user.username }}" required>
            <div class="invalid-feedback" style="width: 100%;">
                Your username is required.
            </div>
            </div>
        </div>

        <div class="mb-3">
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" name="email" value="{{ current_user.email }}">
            <div class="invalid-feedback">
            Please enter a valid email address for shipping updates.
            </div>
        </div>

        <div class="mb-3">
            <label for="address">Телефон</label>
            <div class="input-group">
            <div class="input-group-prepend">
                <span class="input-group-text">+7</span>
            </div>
            <input type="text" class="form-control" id="phone" name="phone" value="{{ current_user.phone }}" required>
            <div class="invalid-feedback" style="width: 100%;">
                Некорректный ввод
            </div>
        </div>
        </form>

    
        <button class="btn btn-success-custom mt-4" type="submit">Сохранить</button>
    </div>
</div>
{% endblock %}